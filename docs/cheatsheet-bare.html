<style>
table{text-align:center;border-collapse:collapse}
tr:not(.noborder) th,tr:not(.noborder) td{border:2px solid #ccc;padding:3px}
td.br{border-right:2px solid #ccc}
table tr td.brb,table tr th.brb{border-right:2px solid #000}
td.bl{border-left:2px solid #ccc}
td.bb{border-bottom:2px solid #ccc}
td.bt{border-top:2px solid #ccc}
.tl{text-align:left}
.tr{text-align:right}
.bold{font-weight:bold}
tr.grey td{color:#ccc}
th,td{border:unset}
th{background:unset}
</style>
<h2>cheatsheet</h2>
<hr>
<p>FCOM/FCOMPP/FCOMPP</p>
<table>
<tr><th>Condition</th><th>C3</th><th>C2</th><th>C0</th></tr>
<tr><td>ST(0) &gt; SRC</td><td>0</td><td>0</td><td>0</td></tr>
<tr><td>ST(0) &lt; SRC</td><td>0</td><td>0</td><td>1</td></tr>
<tr><td>ST(0) = SRC</td><td>1</td><td>0</td><td>0</td></tr>
</table>
<hr>
<p>FPU status word</p>
<table>
<tr class="noborder">
	<th>&nbsp;</th>
	<!--15-->
	<td>&nbsp;</td>
	<td>&nbsp;</td>
	<!--14-->
	<td>&nbsp;</td>
	<td>&nbsp;</td>
	<!--13-->
	<td>&nbsp;</td>
	<td>&nbsp;</td>
	<!--12-->
	<td>&nbsp;</td>
	<td>&nbsp;</td>
	<!--11-->
	<td>&nbsp;</td>
	<td>&nbsp;</td>
	<!--10-->
	<td>&nbsp;</td>
	<td>&nbsp;</td>
	<!--9-->
	<td>&nbsp;</td>
	<td>&nbsp;</td>
	<!--8-->
	<td>&nbsp;</td>
	<td>&nbsp;</td>
	<!--7-->
	<td>&nbsp;</td>
	<td>&nbsp;</td>
	<!--6-->
	<td>&nbsp;</td>
	<td>&nbsp;</td>
	<!--5-->
	<td>&nbsp;</td>
	<td>&nbsp;</td>
	<!--4-->
	<td>&nbsp;</td>
	<td>&nbsp;</td>
	<!--3-->
	<td>&nbsp;</td>
	<td>&nbsp;</td>
	<!--2-->
	<td>&nbsp;</td>
	<td>&nbsp;</td>
	<!--1-->
	<td>&nbsp;</td>
	<td>&nbsp;</td>
	<!--0-->
	<td>&nbsp;</td>
	<td>&nbsp;</td>
	<td>&nbsp;</td>
</tr>
<tr>
	<th rowspan=2 style="border:0">F(N)STSW AX</th>
	<td colspan=32 style="background:#ff2">AX</td>
	<td style="border:0">&nbsp;</td>
</tr>
<tr>
	<td colspan=16 style="background:#db3" class="brb">AH</td>
	<td colspan=16 style="background:#db3">AL</td>
	<td style="border:0">&nbsp;</td>
</tr>
<tr class="grey">
	<td style="border:0">&nbsp;</td>
	<!--15-->
	<td colspan=2>8</td>
	<!--14-->
	<td colspan=2>7</td>
	<!--13-->
	<td colspan=2>6</td>
	<!--12-->
	<td colspan=2>5</td>
	<!--11-->
	<td colspan=2>4</td>
	<!--10-->
	<td colspan=2>3</td>
	<!--9-->
	<td colspan=2>2</td>
	<!--8-->
	<td colspan=2 class="brb">1</td>
	<!--7-->
	<td colspan=2>8</td>
	<!--6-->
	<td colspan=2>7</td>
	<!--5-->
	<td colspan=2>6</td>
	<!--4-->
	<td colspan=2>5</td>
	<!--3-->
	<td colspan=2>4</td>
	<!--2-->
	<td colspan=2>3</td>
	<!--1-->
	<td colspan=2>2</td>
	<!--0-->
	<td colspan=2>1</td>
	<th style="border:0">&nbsp;</th>
</tr>
<tr>
	<th style="border:0">&nbsp;</th>
	<!--15-->
	<th colspan=2>15</th>
	<!--14-->
	<th colspan=2>14</th>
	<!--13-->
	<th colspan=2>13</th>
	<!--12-->
	<th colspan=2>12</th>
	<!--11-->
	<th colspan=2>11</th>
	<!--10-->
	<th colspan=2>10</th>
	<!--9-->
	<th colspan=2>9</th>
	<!--8-->
	<th colspan=2 class="brb">8</th>
	<!--7-->
	<th colspan=2>7</th>
	<!--6-->
	<th colspan=2>6</th>
	<!--5-->
	<th colspan=2>5</th>
	<!--4-->
	<th colspan=2>4</th>
	<!--3-->
	<th colspan=2>3</th>
	<!--2-->
	<th colspan=2>2</th>
	<!--1-->
	<th colspan=2>1</th>
	<!--0-->
	<th colspan=2>0</th>
	<th style="border:0">&nbsp;</th>
</tr>
<tr>
	<td style="border:0">&nbsp;</td>
	<td colspan=2>B</td>
	<td colspan=2>C3</td>
	<td colspan=6>TOP</td>
	<td colspan=2>C2</td>
	<td colspan=2>C1</td>
	<td colspan=2 class="brb">C0</td>
	<td colspan=2>ES</td>
	<td colspan=2>SF</td>
	<td colspan=2>PE</td>
	<td colspan=2>UE</td>
	<td colspan=2>OE</td>
	<td colspan=2>ZE</td>
	<td colspan=2>DE</td>
	<td colspan=2>IE</td>
	<th style="border:0">&nbsp;</th>
</tr>
<tr class="noborder">
	<td>&nbsp;</td>
	<!--15-->
	<td class="br"></td>
	<td></td>
	<!--14-->
	<td class="br"></td>
	<td></td>
	<!--13-->
	<td></td>
	<td></td>
	<!--12-->
	<td class="br"></td>
	<td></td>
	<!--11-->
	<td></td>
	<td></td>
	<!--10-->
	<td class="br"></td>
	<td></td>
	<!--9-->
	<td class="br"></td>
	<td></td>
	<!--8-->
	<td class="br"></td>
	<td></td>
	<!--7-->
	<td class="br"></td>
	<td></td>
	<!--6-->
	<td class="br"></td>
	<td></td>
	<!--5-->
	<td class="br"></td>
	<td></td>
	<!--4-->
	<td class="br"></td>
	<td></td>
	<!--3-->
	<td class="br"></td>
	<td></td>
	<!--2-->
	<td class="br"></td>
	<td></td>
	<!--1-->
	<td class="br"></td>
	<td></td>
	<!--0-->
	<td class="br"></td>
	<td></td>
	<td>&nbsp;</td>
</tr>
<tr class="noborder">
	<td rowspan=2 class="tr">FPU Busy</td>
	<!--15-->
	<td class="bb br"></td>
	<td></td>
	<!--14-->
	<td class="br"></td>
	<td></td>
	<!--13-->
	<td rowspan=2 colspan=6 class="br bt bb bl">Top of<br>Stack Pointer</td>
	<!--10-->
	<td class="br"></td>
	<td></td>
	<!--9-->
	<td class="br"></td>
	<td></td>
	<!--8-->
	<td class="br"></td>
	<td></td>
	<!--7-->
	<td class="br"></td>
	<td></td>
	<!--6-->
	<td class="br"></td>
	<td></td>
	<!--5-->
	<td class="br"></td>
	<td></td>
	<!--4-->
	<td class="br"></td>
	<td></td>
	<!--3-->
	<td class="br"></td>
	<td></td>
	<!--2-->
	<td class="br"></td>
	<td></td>
	<!--1-->
	<td class="br"></td>
	<td></td>
	<!--0-->
	<td></td>
	<td class="bb bl"></td>
	<td rowspan=2 class="tl">Invalid Operand Exception</td>
</tr>
<tr class="noborder">
	<!--15-->
	<td></td>
	<td></td>
	<!--14-->
	<td class="br"></td>
	<td></td>
	<!--13-->
	<!-- rowspan element -->
	<!--10-->
	<td class="br"></td>
	<td></td>
	<!--9-->
	<td class="br"></td>
	<td></td>
	<!--8-->
	<td class="br"></td>
	<td></td>
	<!--7-->
	<td class="br"></td>
	<td></td>
	<!--6-->
	<td class="br"></td>
	<td></td>
	<!--5-->
	<td class="br"></td>
	<td></td>
	<!--4-->
	<td class="br"></td>
	<td></td>
	<!--3-->
	<td class="br"></td>
	<td></td>
	<!--2-->
	<td class="br"></td>
	<td></td>
	<!--1-->
	<td class="br"></td>
	<td></td>
	<!--0-->
	<td></td>
	<td></td>
</tr>
<tr class="noborder">
	<td rowspan=2 class="tr">Condition Code</td>
	<!--15-->
	<td class="bb"></td>
	<td class="bb"></td>
	<!--14-->
	<td class="bb br"></td>
	<td class="bb"></td>
	<!--13-->
	<td colspan=6 class="bb"></td>
	<!--10-->
	<td class="bb br"></td>
	<td class="bb"></td>
	<!--9-->
	<td class="bb br"></td>
	<td class="bb"></td>
	<!--8-->
	<td class="bb br"></td>
	<td></td>
	<!--7-->
	<td class="br"></td>
	<td></td>
	<!--6-->
	<td class="br"></td>
	<td></td>
	<!--5-->
	<td class="br"></td>
	<td></td>
	<!--4-->
	<td class="br"></td>
	<td></td>
	<!--3-->
	<td class="br"></td>
	<td></td>
	<!--2-->
	<td class="br"></td>
	<td></td>
	<!--1-->
	<td></td>
	<td class="bl bb"></td>
	<!--0-->
	<td class="bb"></td>
	<td class="bb"></td>
	<td rowspan=2 class="tl">Denormal Operand Exception</td>
</tr>
<tr class="noborder">
	<td colspan=16></td>
	<!--7-->
	<td class="br"></td>
	<td></td>
	<!--6-->
	<td class="br"></td>
	<td></td>
	<!--5-->
	<td class="br"></td>
	<td></td>
	<!--4-->
	<td class="br"></td>
	<td></td>
	<!--3-->
	<td class="br"></td>
	<td></td>
	<!--2-->
	<td class="br"></td>
	<td></td>
	<!--1-->
	<td colspan=4></td>
</tr>
<tr class="noborder">
	<td rowspan=2 class="tr">Error Summary Status</td>
	<!--15-->
	<td colspan=16 class="bb"></td>
	<!--7-->
	<td class="bb br"></td>
	<td></td>
	<!--6-->
	<td class="br"></td>
	<td></td>
	<!--5-->
	<td class="br"></td>
	<td></td>
	<!--4-->
	<td class="br"></td>
	<td></td>
	<!--3-->
	<td class="br"></td>
	<td></td>
	<!--2-->
	<td></td>
	<td class="bl bb"></td>
	<!--1-->
	<td colspan=4 class="bb"></td>
	<td rowspan=2 class="tl">Zero Divide Exception</td>
</tr>
<tr class="noborder">
	<td colspan=18></td>
	<!--6-->
	<td class="br"></td>
	<td></td>
	<!--5-->
	<td class="br"></td>
	<td></td>
	<!--4-->
	<td class="br"></td>
	<td></td>
	<!--3-->
	<td class="br"></td>
	<td></td>
	<!--2-->
	<td colspan=6></td>
</tr>
<tr class="noborder">
	<td rowspan=2 class="tr">Stack Fault</td>
	<!--15-->
	<td colspan=18 class="bb"></td>
	<!--6-->
	<td class="bb br"></td>
	<td></td>
	<!--5-->
	<td class="br"></td>
	<td></td>
	<!--4-->
	<td class="br"></td>
	<td></td>
	<!--3-->
	<td></td>
	<td class="bl bb"></td>
	<!--2-->
	<td colspan=6 class="bb"></td>
	<td rowspan=2 class="tl">Overflow Exception</td>
</tr>
<tr class="noborder">
	<!--15-->
	<td colspan=20></td>
	<!--5-->
	<td class="br"></td>
	<td></td>
	<!--4-->
	<td class="br"></td>
	<td></td>
	<!--3-->
	<td colspan=8></td>
</tr>
<tr class="noborder">
	<td rowspan=2 class="tr">Precision Exception</td>
	<!--15-->
	<td colspan=20 class="bb"></td>
	<!--5-->
	<td class="bb br"></td>
	<td></td>
	<!--4-->
	<td></td>
	<td class="bb bl"></td>
	<!--3-->
	<td colspan=8 class="bb"></td>
	<td rowspan=2 class="tl">Underflow Exception</td>
</tr>
<tr class="noborder">
	<td colspan=32></td>
</tr>
</table>
<hr>
<p>FCOMP scenario #1</p>
<table class="tl bold">
<tr class="noborder"><td>FLD</td><td>&nbsp;&nbsp;</td><td>[EAX]</td></tr>
<tr class="noborder"><td>FCOMP</td><td>&nbsp;&nbsp;</td><td>[ECX]</td></tr>
<tr class="noborder"><td>FNSTSW</td><td>&nbsp;&nbsp;</td><td>AX</td></tr>
<tr class="noborder"><td>TEST</td><td>&nbsp;&nbsp;</td><td>AH, 1</td></tr>
<tr class="noborder"><td>JNZ</td><td>&nbsp;&nbsp;</td><td>branch ;take branch when [eax] &lt; [ecx]</td></tr>
</table>
<p>FCOMP scenario #2</p>
<table class="tl bold">
<tr class="noborder"><td>FLD</td><td>&nbsp;&nbsp;</td><td>[EAX]</td></tr>
<tr class="noborder"><td>FCOMP</td><td>&nbsp;&nbsp;</td><td>[ECX]</td></tr>
<tr class="noborder"><td>FNSTSW</td><td>&nbsp;&nbsp;</td><td>AX</td></tr>
<tr class="noborder"><td>TEST</td><td>&nbsp;&nbsp;</td><td>AH, 41h</td></tr>
<tr class="noborder"><td>JP</td><td>&nbsp;&nbsp;</td><td>branch ;take branch when [eax] &gt; [ecx]</td></tr>
</table>
<hr>
<p>REP: for ecx repetitions</p>
<p>STOSB/W/D: copy from EAX to EDI, inc EDI</p>
<p>MOVSB/W/D: copy from ESI to EDI, inc ESI and EDI</p>
